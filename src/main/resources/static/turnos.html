<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    <script
      type="module"
      src="./js/turnos.js"
      defer
    ></script>
    <title>Turnos</title>
  </head>
  <body>
    <header class="w-full my-4">
      <a
        href="./index.html"
        class="flex px-4 py-2 bg-blue-800 fixed w-fit h-fit justify-center items-center gap-4 top-4 left-4 text-white font-medium text-lg rounded-full hover:scale-105 transition-all duration-300"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-left"
        >
          <path
            stroke="none"
            d="M0 0h24v24H0z"
            fill="none"
          />
          <path d="M5 12l14 0" />
          <path d="M5 12l6 6" />
          <path d="M5 12l6 -6" />
        </svg>
        <span class="hidden md:flex"> Inicio </span>
      </a>
      <h1 class="text-center mb-4 font-bold text-4xl">Turnos</h1>
      <nav class="w-1/2 mx-auto h-full flex justify-center">
        <div class="w-fit h-fit flex">
          <button
            class="text-white absolute top-4 right-4 bg-blue-700 hover:bg-blue-800 font-medium text-lg py-4 px-6 h-fit flex items-center gap-4 hover:scale-105 rounded-full transition-all duration-300"
            id="btnActualizarLista"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"
            >
              <path
                stroke="none"
                d="M0 0h24v24H0z"
                fill="none"
              />
              <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" />
              <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" />
            </svg>
            <span class="hidden md:flex"> Actualizar Lista </span>
          </button>
          <button
            class="text-white fixed bottom-4 right-4 z-10 bg-blue-700 hover:bg-blue-800 font-medium text-lg py-4 px-6 h-fit flex items-center gap-4 hover:scale-105 rounded-full transition-all duration-300"
            id="btnAgregarTurno"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon icon-tabler icons-tabler-outline icon-tabler-circle-plus"
            >
              <path
                stroke="none"
                d="M0 0h24v24H0z"
                fill="none"
              />
              <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
              <path d="M9 12h6" />
              <path d="M12 9v6" />
            </svg>
            <span class="hidden md:flex"> Agregar Turno </span>
          </button>
        </div>
      </nav>
    </header>

    <main class="my-8 w-3/4 mx-auto">
      <section
        class="hidden relative bg-gray-100 rounded-xl w-fit h-fit p-4 mx-auto mb-4 border-2 border-gray-300 shadow-md shadow-slate-200 backdrop-blur-sm"
        id="turnoFormContainer"
      >
        <button
          type="button"
          id="closeBtn"
          class="absolute hidden top-0 right-0 translate-x-1/2 -translate-y-1/2 text-white bg-red-500 hover:bg-red-600 font-medium rounded-full text-sm p-2 text-center font-bold transition-all"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-x"
          >
            <path
              stroke="none"
              d="M0 0h24v24H0z"
              fill="none"
            />
            <path d="M18 6l-12 12" />
            <path d="M6 6l12 12" />
          </svg>
        </button>

        <fieldset class="rounded-md border-2 py-4 px-6 shadow-sm shadow-slate-200 backdrop-blur-sm">
          <legend className="px-1">
            <h2 class="font-bold text-center italic">AGENDAR NUEVO TURNO</h2>
          </legend>

          <form
            id="turnoForm"
            class="flex gap-6"
          >
            <div class="px-2 py-1">
              <div class="pt-5 border-t border-gray-200 flex sm:flex-row flex-col sm:space-x-5 rtl:space-x-reverse">
                <div>
                  <div class="flex flex-col gap-2 w-full mb-2 sr-only">
                    <label
                      for="turnoId"
                      class="block text-sm font-medium text-gray-900"
                      >Id:</label
                    >
                    <input
                      type="text"
                      id="turnoId"
                      class="bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 outline-none"
                      required
                      readonly
                    />
                  </div>
                  <label
                    for="fechaTurno"
                    class="block text-sm mb-2 font-medium text-gray-900"
                    >Seleccionar fecha:</label
                  >
                  <div class="relative max-w-sm h-fit w-60">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                      <svg
                        class="w-4 h-4 text-gray-500"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                        />
                      </svg>
                    </div>
                    <input
                      id="fechaTurno"
                      datepicker
                      datepicker-autohide
                      datepicker-buttons
                      datepicker-autoselect-today
                      datepicker-format="yyyy-mm-dd"
                      type="text"
                      class="ps-10 bg-gray-50 outline-none ring-2 ring-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 block w-full p-2.5 transition-all duration-300"
                      placeholder="Seleccionar fecha"
                      required
                    />
                  </div>
                </div>

                <div class="sm:ms-7 sm:ps-5 sm:border-s border-gray-200 w-full sm:max-w-[15rem] mt-5 sm:mt-0">
                  <button
                    type="button"
                    data-collapse-toggle="timetable"
                    class="inline-flex items-center w-full py-2 px-5 me-2 justify-center text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700"
                  >
                    <svg
                      class="w-4 h-4 text-gray-800 me-2"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      fill="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4a1 1 0 1 0-2 0v4a1 1 0 0 0 .293.707l3 3a1 1 0 0 0 1.414-1.414L13 11.586V8Z"
                        clip-rule="evenodd"
                      />
                    </svg>
                    Horario:
                  </button>
                  <label class="sr-only">Horario:</label>
                  <ul
                    id="timetable"
                    class="grid w-full grid-cols-2 gap-2 mt-5"
                  >
                    <li>
                      <input
                        type="radio"
                        id="9-hrs"
                        value="09:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="9-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        09:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="9-30-hrs"
                        value="09:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="9-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        09:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="10-hrs"
                        value="10:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="10-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        10:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="10-30-hrs"
                        value="10:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="10-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        10:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="11-hrs"
                        value="11:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="11-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        11:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="11-30-hrs"
                        value="11:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="11-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        11:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="12-hrs"
                        value="12:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="12-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        12:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="13-30-hrs"
                        value="13:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="13-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        13:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="14-hrs"
                        value="14:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="14-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        14:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="14-30-hrs"
                        value="14:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="14-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        14:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="15-hrs"
                        value="15:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="15-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        15:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="15-30-hrs"
                        value="15:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="15-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        15:30
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="16-hrs"
                        value="16:00"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="16-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        16:00
                      </label>
                    </li>
                    <li>
                      <input
                        type="radio"
                        id="16-30-hrs"
                        value="16:30"
                        class="hidden peer"
                        name="timetable"
                      />
                      <label
                        for="16-30-hrs"
                        class="inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center bg-white border rounded-lg cursor-pointer text-blue-600 border-blue-600 peer-checked:border-blue-600 peer-checked:bg-blue-600 hover:text-white peer-checked:text-white hover:bg-blue-500"
                      >
                        16:30
                      </label>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="px-2 py-1 flex flex-col gap-6 w-80">
              <div>
                <label
                  for="odontologoSearch"
                  class="text-sm font-medium text-gray-900"
                  >Buscar Odontólogo</label
                >
                <select
                  id="odontologoSearch"
                  class="bg-gray-50 outline-none ring-2 ring-gray-300 focus:ring-blue-500 text-gray-900 mb-6 text-sm rounded-lg focus:ring-blue-500 block w-full p-2.5 transition-all duration-300"
                >
                  <!-- Odontologos List will be added here. -->
                </select>
              </div>

              <div>
                <label
                  for="pacienteSearch"
                  class="mb-2 text-sm font-medium text-gray-900"
                  >Buscar Paciente por DNI:</label
                >
                <div class="relative">
                  <input
                    type="search"
                    id="pacienteSearch"
                    class="block w-full p-4 ps-2 text-sm text-gray-900 outline-none ring-2 ring-gray-300 focus:ring-blue-500 rounded-lg bg-gray-50 transition-all duration-300"
                    placeholder="Ingrese DNI del paciente"
                    required
                  />
                  <button
                    type="button"
                    id="btnBuscarPaciente"
                    class="text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-4 py-2 transition-all duration-300"
                  >
                    Buscar
                  </button>
                </div>
                <input
                  type="text"
                  id="pacienteBuscado"
                  class="bg-gray-100 mt-2 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 outline-none"
                  required
                  readonly
                />
              </div>

              <button
                type="submit"
                class="my-4 text-white bg-green-600 hover:bg-green-700 hover:shadow hover:shadow-green-500/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-300 cursor-pointer disabled:cursor-not-allowed disabled:opacity-80"
                disabled
              >
                Agendar Turno
              </button>
            </div>
          </form>
        </fieldset>
      </section>

      <article>
        <header class="h-fit w-full mx-auto my-8">
          <fieldset class="rounded-md border-2 py-4 px-2 shadow-sm shadow-slate-200 backdrop-blur-sm">
            <form
              class="flex justify-evenly gap-2 flex-wrap md:flex-nowrap items-end"
              id="filterForm"
            >
              <div>
                <label
                  for="fechaFilter"
                  class="block text-sm mb-2 font-medium text-gray-900"
                  >Filtrar por fecha:</label
                >
                <div class="relative max-w-sm h-fit w-60">
                  <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg
                      class="w-4 h-4 text-gray-500"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                      />
                    </svg>
                  </div>
                  <input
                    id="fechaFilter"
                    datepicker
                    datepicker-autohide
                    datepicker-buttons
                    datepicker-autoselect-today
                    datepicker-format="yyyy-mm-dd"
                    type="text"
                    class="ps-10 bg-gray-50 outline-none ring-2 ring-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 block w-full p-2.5 transition-all duration-300"
                    placeholder="Seleccionar fecha"
                  />
                </div>
              </div>

              <div class="w-60">
                <label
                  for="odontologoFilter"
                  class="block text-sm font-medium text-gray-900 mb-2"
                  >Filtrar por Odontólogo:</label
                >
                <select
                  id="odontologoFilter"
                  class="bg-gray-50 outline-none ring-2 ring-gray-300 focus:ring-blue-500 text-gray-900 text-sm rounded-lg focus:ring-blue-500 block w-full p-2.5 transition-all duration-300"
                >
                  <!-- Odontologos List will be added here. -->
                </select>
              </div>

              <button
                type="submit"
                class="text-white bg-blue-600 hover:bg-blue-800 font-medium rounded-lg text-lg px-5 py-2 h-fit text-center transition-all"
              >
                Aplicar Filtros
              </button>

              <button
                type="reset"
                class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 font-medium rounded-lg text-lg px-5 py-2 h-fit text-center transition-all"
              >
                Limpiar Filtros
              </button>
            </form>
          </fieldset>
        </header>
        <section
          id="turnos"
          class="flex flex-wrap gap-8 justify-center"
        >
          <!-- Turnos will be added here -->
        </section>
      </article>
    </main>
  </body>
</html>
